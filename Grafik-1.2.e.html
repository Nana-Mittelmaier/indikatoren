<!DOCTYPE html> 
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Indikator 1.2.e: Anzahl neu erstellte Wohnungen </title>

  <style type="text/css">
    a {
      text-decoration: none;
      color: inherit;
    }

    #container .highcharts-container {
      margin: 0 auto;
    }
  </style>
   <link rel=stylesheet type="text/css" href="style.css">
  <script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="//code.highcharts.com/highcharts.js"></script>
  <script type="text/javascript" src="//code.highcharts.com/modules/data.js"></script>
  <script type="text/javascript" src="//code.highcharts.com/modules/exporting.js"></script>
  <script type="text/javascript" src="//highcharts.github.io/export-csv/export-csv.js"></script>


</head>

<body style="margin: 0;" class="show-page">
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-KGK459"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KGK459');</script>
  <!-- End Google Tag Manager -->
  <div id="container" style="width:100%; height:100%;max-width:1000px;margin: 0 auto"></div>

<script type="text/javascript">
function parseData(completeHandler, chartOptions, data) {
	try {
		var dataOptions = {
  csv: data
};
		dataOptions.sort = true
		dataOptions.complete = completeHandler;
		Highcharts.data(dataOptions, chartOptions);
	} catch (error) {
		console.log(error);
		completeHandler(undefined);
	}
}

Highcharts.setOptions({
  "lang": {
    "decimalPoint": ",",
    "thousandsSep": " "
  }
});


	var template = {
		chart: {
			renderTo: 'container',
    events:{
    load: function() {
        this.credits.element.onclick = function() {
            window.open(
              "http://www.statistik.bs.ch",
              '_blank' // http://stackoverflow.com/questions/16810556/how-to-open-credits-url-of-highcharts-in-new-tab
            );
          }
        }
    }
		},
		navigation: {
			menuItemStyle: {
				fontFamily: Highcharts.SVGRenderer.prototype.getStyle().fontFamily,
				padding: '2px 10px'
			}
		}
	};

var chartOptions = {
  "plotOptions": {
    "series": {
      "stacking": "normal"
    }
  },
  "yAxis": {
    "title": {
      "style": {
        "color": "#000000",
        "fontSize": null
      },
      "text": null
    },
    "labels": {
      "format": "{value:,.0f}",
      "style": {
        "color": "#000000"
      }

    }
  },
  "xAxis": {
    "title": {
      "style": {
        "color": "#000000"
      }
    },
    "labels": {
      "style": {
        "color": "#000000"
      }
    },
    "tickColor": "#FFFFFF",
    "tickInterval": 1
  },
  tooltip: {
    pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.2f}%)<br/>',
    shared: false
  },
  "exporting": {
	    "sourceWidth": null,
	    "scale": 5,
	    buttons: {
	      contextButton: {
	        menuItems: Highcharts.getOptions().exporting.buttons.contextButton.menuItems.slice(0, 8)
	      }
	    }
	  },
  "credits": {
    "text": "Quelle: Kantonale Gebäude- und Wohnungsstatistik;<br/>Statistisches Amt des Kantons Basel-Stadt",
    "enabled": true,
    "style": {
      "color": "#000000",
      "fontSize": 10
    },
    "position": {
      "align": "left",
      "verticalAlign": "bottom",
      x: 10,
      y: -17
    }
  },
  "legend": {
		"verticalAlign": "top",
    "align": "left",
		"floating": false,
		"y": 20,
    "itemStyle": {
      "fontWeight": "normal"
    }
  },

  "series": [
    {
      "color": "#007a2f",
      "index": 0,
      "type": "column"
    },
    {
      "color": "rgba(0, 122, 47, 0.38)",
      "index": 1,
      "type": "column"
    },
    {
      "color": "#b00000",
      "marker": {
        "enabled": false
      },
      "index": 2,
      "type": "line"
    }
  ],

"title": {
    "style": {
      "fontSize": 14,
      "fontWeight": "bold",
      "fontFamily": "Arial",
      "color": "#000000"
    },
    "text": "Indikator 1.2.e: Anzahl neu erstellte Wohnungen",
    "align": "left"
  },
  "subtitle": {
    "style": {
      "fontSize": 12,
      "fontWeight": "normal",
      "fontFamily": "Arial",
      "color": "#000000"

    },
    "text": "",
    "align": "left"
  },

  "chart": {
    "borderColor": "#fbfbfb",
    "backgroundColor": "#fbfbfb",
    "width": 485,
    "marginBottom": 65,
    "marginTop": 100,
    "style": {
      "fontFamily": "Arial"
    },
    "zoomType": "xy",
    "type": "column"
  }
};


$.get("Grafik-1.2.e.csv", function(data){
parseData(function (dataOptions) {
	// Merge series configs
	if (chartOptions.series && dataOptions) {
		Highcharts.each(chartOptions.series, function (series, i) {
			chartOptions.series[i] = Highcharts.merge(series, dataOptions.series[i]);
		});
	}
	var options = Highcharts.merge(dataOptions, chartOptions, template);
	var chart = new Highcharts['Chart'](options);
}, chartOptions, data);

});


</script>
<table align="center" width="470" border="0" cellspacing="0" cellpadding="0">

   <tr>
     <td width="2">&nbsp;</td>

    <td height="5">&nbsp;</td>
  </tr>

  <tr>
    <td valign="middle">&nbsp;</td>

    <td height="20" valign="middle"><h1>Lesehilfe</h1></td>
  </tr>

  <tr>
    <td>&nbsp;</td>

    <td><p>Es werden nur neu erstellte Wohnungen in Neubauten berücksichtigt. Neue Wohnungen aus Umbauten sind demnach nicht enthalten. Dank der Grossprojekte im Gebiet Erlenmatt West wurden im Jahr 2015 an die 800 Wohnungen neu erstellt. Der Zehnjahresdurchschnitt steigt damit auf rund 350.</p></td>
  </tr>
</body>
</html>
